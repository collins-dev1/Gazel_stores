<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gazel Store Global Services Limited - Login & Register</title>
    <link rel="stylesheet" href="css/login.css">
    <link rel="icon" href="img/gazelmainlogo.png">
</head>
<body>
    <div class="container">
        <div class="logo-section">
            <a href="index.html" class="logo">
                <img src="/img/gazelmainlogo.png" alt="">
            </a>
            <p class="logo-tagline">Gazel Store Global Services Limited</p>
        </div>

        <div class="auth-card">
            <div class="auth-tabs">
                <button class="tab-btn active" onclick="switchTab('login')">Login</button>
                <button class="tab-btn" onclick="switchTab('register')">Register</button>
            </div>

            <div id="error-message" class="error-message"></div>
            <div id="success-message" class="success-message"></div>

            <!-- Login Form -->
            <form id="login-form" class="auth-form active" onsubmit="handleLogin(event)">
                <div class="auth-header">
                    <h2>Welcome Back</h2>
                    <p>Login to access your dashboard</p>
                </div>

                <div class="form-group">
                    <label class="form-label">Email Address</label>
                    <input type="email" class="form-input" placeholder="you@example.com" required>
                </div>

                <div class="form-group">
                    <label class="form-label">Password</label>
                    <div class="password-wrapper">
                        <input type="password" id="login-password" class="form-input" placeholder="Enter your password" required>
                        <button type="button" class="toggle-password" onclick="togglePassword('login-password')">üëÅÔ∏è</button>
                    </div>
                </div>

                <div class="form-checkbox">
                    <input type="checkbox" id="remember-me">
                    <label for="remember-me">Remember me</label>
                </div>

                <div class="forgot-password">
                    <a href="#forgot">Forgot Password?</a>
                </div>

                <button type="submit" class="btn-submit">Login to Dashboard</button>
            </form>

            <!-- Register Form -->
            <form id="register-form" class="auth-form" onsubmit="handleRegister(event)">
                <div class="auth-header">
                    <h2>Create Account</h2>
                    <p>Get started with DrinkFlow today</p>
                </div>

                <div class="form-group">
                    <label class="form-label">Account Type</label>
                    <select class="form-select" id="account-type" required>
                        <option value="">Select account type</option>
                        <option value="admin">Admin (Business Owner)</option>
                        <option value="customer">Customer</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">Full Name</label>
                    <input type="text" class="form-input" placeholder="John Doe" required>
                </div>

                <div class="form-group">
                    <label class="form-label">Email Address</label>
                    <input type="email" class="form-input" placeholder="you@example.com" required>
                </div>

                <div class="form-group">
                    <label class="form-label">Phone Number</label>
                    <input type="tel" class="form-input" placeholder="+234 800 000 0000" required>
                </div>

                <div class="form-group" id="company-field" style="display: none;">
                    <label class="form-label">Company Name</label>
                    <input type="text" class="form-input" placeholder="Your Company Name">
                </div>

                <div class="form-group">
                    <label class="form-label">Password</label>
                    <div class="password-wrapper">
                        <input type="password" id="register-password" class="form-input" placeholder="Create a strong password" required>
                        <button type="button" class="toggle-password" onclick="togglePassword('register-password')">üëÅÔ∏è</button>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Confirm Password</label>
                    <div class="password-wrapper">
                        <input type="password" id="confirm-password" class="form-input" placeholder="Re-enter your password" required>
                        <button type="button" class="toggle-password" onclick="togglePassword('confirm-password')">üëÅÔ∏è</button>
                    </div>
                </div>

                <div class="form-checkbox">
                    <input type="checkbox" id="terms" required>
                    <label for="terms">I agree to the Terms & Conditions</label>
                </div>

                <button type="submit" class="btn-submit">Create Account</button>
            </form>

            <div class="back-home">
                <a href="index.html">‚Üê Back to Home</a>
            </div>
        </div>
    </div>

    <script>
        // Switch between login and register tabs
        function switchTab(tab) {
            const loginForm = document.getElementById('login-form');
            const registerForm = document.getElementById('register-form');
            const tabBtns = document.querySelectorAll('.tab-btn');
            
            // Clear messages
            hideMessages();
            
            if (tab === 'login') {
                loginForm.classList.add('active');
                registerForm.classList.remove('active');
                tabBtns[0].classList.add('active');
                tabBtns[1].classList.remove('active');
            } else {
                registerForm.classList.add('active');
                loginForm.classList.remove('active');
                tabBtns[1].classList.add('active');
                tabBtns[0].classList.remove('active');
            }
        }

        // Toggle password visibility
        function togglePassword(inputId) {
            const input = document.getElementById(inputId);
            if (input.type === 'password') {
                input.type = 'text';
            } else {
                input.type = 'password';
            }
        }

        // Show company field for admin accounts
        document.getElementById('account-type').addEventListener('change', function() {
            const companyField = document.getElementById('company-field');
            if (this.value === 'admin') {
                companyField.style.display = 'block';
            } else {
                companyField.style.display = 'none';
            }
        });

        // Handle login
        function handleLogin(e) {
            e.preventDefault();
            hideMessages();
            
            const email = e.target.elements[0].value;
            const password = e.target.elements[1].value;
            
            // Here you would make an API call to your backend
            // For now, we'll simulate a successful login
            
            // Simulate API delay
            setTimeout(() => {
                showSuccess('Login successful! Redirecting to dashboard...');
                
                // Redirect after 1.5 seconds
                setTimeout(() => {
                    // Check if admin or customer (you'll determine this from your backend)
                    window.location.href = 'admin-dashboard.html';
                    // or window.location.href = 'customer-dashboard.html';
                }, 1500);
            }, 500);
        }

        // Handle registration
        function handleRegister(e) {
            e.preventDefault();
            hideMessages();
            
            const accountType = document.getElementById('account-type').value;
            const password = document.getElementById('register-password').value;
            const confirmPassword = document.getElementById('confirm-password').value;
            
            // Validate passwords match
            if (password !== confirmPassword) {
                showError('Passwords do not match!');
                return;
            }
            
            // Validate password strength (at least 8 characters)
            if (password.length < 8) {
                showError('Password must be at least 8 characters long!');
                return;
            }
            
            if (!accountType) {
                showError('Please select an account type!');
                return;
            }
            
            // Here you would make an API call to your backend
            // For now, we'll simulate a successful registration
            
            // Simulate API delay
            setTimeout(() => {
                showSuccess('Account created successfully! Redirecting to dashboard...');
                
                // Redirect after 1.5 seconds
                setTimeout(() => {
                    if (accountType === 'admin') {
                        window.location.href = 'admin-dashboard.html';
                    } else {
                        window.location.href = 'customer-dashboard.html';
                    }
                }, 1500);
            }, 500);
        }

        // Show error message
        function showError(message) {
            const errorDiv = document.getElementById('error-message');
            errorDiv.textContent = message;
            errorDiv.style.display = 'block';
        }

        // Show success message
        function showSuccess(message) {
            const successDiv = document.getElementById('success-message');
            successDiv.textContent = message;
            successDiv.style.display = 'block';
        }

        // Hide messages
        function hideMessages() {
            document.getElementById('error-message').style.display = 'none';
            document.getElementById('success-message').style.display = 'none';
        }
    </script>
</body>
</html>